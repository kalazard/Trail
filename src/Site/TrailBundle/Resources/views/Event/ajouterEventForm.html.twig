<div id="modalAjoutEventForm" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h4 class="modal-title">Ajouter un événement</h4>
            </div>
            <div class="modal-body">
                {{ form_start(form, {'attr': {'id': 'ajouterEvent'}}) }}
                {{ form_errors(form) }}
                {% if app.user.id is defined %} 
                    <input type="hidden" name="createur" value="{{ app.user.id }}"/>
                {% else %}
                    <input type="hidden" name="createur" value="0"/>
                {% endif %}

                <!-- Champ titre -->
                <div class="form-group">
                    {{ form_label(form.titre, "Titre : ", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
                    {{ form_errors(form.titre) }}
                    <div class="col-sm-9">
                      {{ form_widget(form.titre, {'attr': {'class': 'form-control', 'maxlength': '45'}}) }}
                    </div>
                </div>
                
                <!-- Champ description -->
                <div class="form-group">
                    {{ form_label(form.description, "Description : ", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
                    {{ form_errors(form.description) }}
                    <div class="col-sm-9">
                      {{ form_widget(form.description, {'attr': {'class': 'form-control', 'maxlength': '45'}}) }}
                    </div>
                </div>
                    
                <!-- Champ lien kidoikoiaki -->
                <div class="form-group">
                    {{ form_label(form.lienKid, "Lien KID : ", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
                    {{ form_errors(form.lienKid) }}
                    <div class="col-sm-9">
                      {{ form_widget(form.lienKid, {'attr': {'class': 'form-control', 'maxlength': '45'}}) }}
                    </div>
                </div>
                    
                <!-- Champ status -->
                <div class="form-group">
                    {{ form_label(form.status, "Status : ", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
                    {{ form_errors(form.status) }}
                    <div class="col-sm-9">
                      {{ form_widget(form.status, {'attr': {'class': 'form-control', 'maxlength': '45'}}) }}
                    </div>
                </div>
                
                <!-- Champ date début -->
                <div class="form-group">
                    {{ form_label(form.date_debut, "Date début : ", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
                    {{ form_errors(form.date_debut) }}
                    <div class="col-sm-9">
                      {{ form_widget(form.date_debut) }}
                    </div>
                </div>
                    
                <!-- Champ date fin -->
                <div class="form-group">
                    {{ form_label(form.date_fin, "Date fin : ", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
                    {{ form_errors(form.date_fin) }}
                    <div class="col-sm-9">
                      {{ form_widget(form.date_fin) }}
                    </div>
                </div>
                    
                <!-- Champ participants -->
                <div class="form-group">
                    <label class='col-sm-3 control-label'>Participants :</label>
                    <div class="col-sm-9">
                        <select name="participants[]" multiple>
                            {% for monUser in listeUser %}
                                <option value='{{monUser.id}}'>{{monUser.userName}}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>

                <!-- Champ type d'événement -->
                

                <select id="selectTypeEvent" name="type">
                    <option value="1">Entrainement</option>
                    <option value="2">Entrainement personnel</option>
                    <option value="3">Evenement divers</option>
                    <option value="4">Sortie découverte</option>
                </select>
                <div id="specificites">
                    <label>Programme</label>
                    <select name='programme'>
                    {% for monProgramme in listeProgramme %}
                        <option value='{{monProgramme.id}}'>{{monProgramme.label}} ({{monProgramme.duree|date('Y-m-d')}})</option>
                    {% endfor %}
                    </select><br/>
                    <label>Lieu de rendez-vous</label>
                    <select name='lieu'>
                    {% for monLieu in listeLieuRendezVous %}
                        <option value='{{monLieu.id}}'>{{monLieu.titre}}</option>
                    {% endfor %}
                    </select>
                </div>
                <div class="modal-footer">
                    <input type="submit" class="btn btn-primary" value="Ajouter" />
                    <button type="button" class="btn btn-default" data-dismiss="modal">Fermer</button>
                </div>
            {{ form_end(form) }}
            </div>
        </div>
    </div>
</div>


    


<script>
    $( "body" ).on( "change", "#selectTypeEvent", function()
    {
        $('#specificites').children().remove();
        
        switch($(this).val())
        {
            case '1': //Entrainement
                $('#specificites').append("<label>Programme</label>");
                $('#specificites').append("<select name='programme' id='pr'>");
                {% for monProgramme in listeProgramme %}
                    $('#specificites #pr').append("<option value='{{monProgramme.id}}'>{{monProgramme.label}} ({{monProgramme.duree|date('Y-m-d')}})</option>");
                {% endfor %}
                $('#specificites').append("</select><br/>");
                $('#specificites').append("<label>Lieu de rendez-vous</label>");
                $('#specificites').append("<select name='lieu' id='li'>");
                {% for monLieu in listeLieuRendezVous %}
                    $('#specificites #li').append("<option value='{{monLieu.id}}'>{{monLieu.titre}}</option>");
                {% endfor %}
                $('#specificites').append("</select>");
                break;
            case '2': //Entrainement personnel
                break;
            case '3': //Evenement divers
                $('#specificites').append("<label>Label</label><input type='text' name='label' maxlength='45'/></br>");
                break;
            case '4': //Sortie découverte
                $('#specificites').append("<label>Lieu de rendez-vous</label>");
                $('#specificites').append("<select name='lieu' id='li'>");
                {% for monLieu in listeLieuRendezVous %}
                    $('#specificites #li').append("<option value='" + {{monLieu.id}} + "'>" + '{{monLieu.titre}}' + "</option>");
                {% endfor %}
                $('#specificites').append("</select>");
                break;
            default:
        }
    });
</script>
{% javascripts '@SiteTrailBundle/Resources/js/event/*' %}
        <script type="text/javascript" src="{{ asset_url }}"></script>
{% endjavascripts %}
